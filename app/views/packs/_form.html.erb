<div class='m-2'>
  <%= simple_form_for(pack, html: { multipart: true }) do |f| %>
    <div class='row'>
      <div style='box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;' class='form-inputs col-sm-12 col-md-10 m-2'>
        <%= f.error_notification %>
        <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>
        <%= f.input :name, label: 'Tovar nomi', required: true, input_html: {autofocus: 'true'} %>
        <%= f.input :code, label: 'Gram' %>
        <%= f.input :delivery_id, input_html: {value: params[:delivery_id] }, as: :hidden  %>
        <%= f.association :product_category, label: 'Assortimentni tanlang', include_blank: false  %>
        <%= link_to new_product_category_path do %>
          <i class="fa-solid fa-circle-info"></i> Kerakli assortiment topilmadimi?
        <% end %>
        <br/>
        <%= f.input :initial_remaining, label: 'Ostatkasi' %>
        <%= f.input :price_in_usd, label: false, as: :hidden %>
        <%= f.input :sell_price, label: 'Sotish narxi (1 dona)', required: true %>
        <%= f.input :buy_price, label: 'Tan narxi (1 dona)', required: true %>
        <%= f.submit 'Saqlash', class: 'btn btn-primary' %>
      </div>
    </div>
  <% end %>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Get all color input elements
    var colorInputs = document.querySelectorAll('.color-input');

    // Event listener for the change event on the first color input
    colorInputs[0].addEventListener('change', function() {
      // Get the value of the first color input
      var firstColorValue = this.value;

      // Set the same value for all other color inputs
      colorInputs.forEach(function(input) {
        input.value = firstColorValue;
      });
    });
  });
</script>

<script>
  // $(document).on('turbo:load', function() {
  //   $('form').on('keypress', e => {
  //       if (e.keyCode == 13) {
  //           return false;
  //       }
  //   });
  // })
</script>
